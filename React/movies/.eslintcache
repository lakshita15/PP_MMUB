[{"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\index.js":"1","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\reportWebVitals.js":"2","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\App.js":"3","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\Movies.js":"4","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\getMovies.js":"5"},{"size":475,"mtime":1624623720370,"results":"6","hashOfConfig":"7"},{"size":375,"mtime":1624623720373,"results":"8","hashOfConfig":"7"},{"size":140,"mtime":1624623720364,"results":"9","hashOfConfig":"7"},{"size":8584,"mtime":1624689060734,"results":"10","hashOfConfig":"7"},{"size":1929,"mtime":1624623720368,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"3rg5ya",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\index.js",[],["24","25"],"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\reportWebVitals.js",[],"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\App.js",[],"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\Movies.js",["26","27","28","29","30","31","32","33","34","35"],"import React, { Component } from 'react'\r\nimport { getMovies } from './getMovies';\r\nimport axios from 'axios';\r\nexport default class Movies extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            movies: [],\r\n            currSearchText:'',\r\n            currpage :1,\r\n            limit:4,\r\n            genres: [{ _id: 'abcd', name: 'All Genres' }],\r\n            cGenre: 'All Genres'\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        console.log(\"inside component did mount\");\r\n        let result = await axios.get(\"https://backend-react-movie.herokuapp.com/movies\");\r\n        let genreRes = await axios.get('https://backend-react-movie.herokuapp.com/genres');\r\n        // console.log(res.data.movies);\r\n        console.log(genreRes.data.genres);\r\n        console.log(result.data.movies);\r\n        this.setState({\r\n            movies: result.data.movies,\r\n            genres: [...this.state.genres, ...genreRes.data.genres]\r\n        })\r\n    }\r\n    handleChange=(e)=>{\r\n        let val = e.target.value;\r\n        console.log(val);\r\n        this.setState({\r\n            currSearchText:val\r\n        })\r\n    }\r\n    onDelete=(id)=>{\r\n        let arr =this.state.movies.filter(function(movieObj){\r\n            return movieObj._id!=id;\r\n        })\r\n        // console.log(arr);\r\n        this.setState({\r\n            movies:arr\r\n        });\r\n    }\r\n   sortbyrating =(e)=>{\r\n       let className = e.target.className;\r\n\r\n       let sortedmovies=[];\r\n       if(className =='fa fa-sort-asc'){\r\n        sortedmovies= this.state.movies.sort(function(movieobja , movieobjb){\r\n          //ascending order  \r\n          return movieobja.dailyRentalRate - movieobjb.dailyRentalRate\r\n        })\r\n       }else{\r\n        //descending order\r\n        sortedmovies= this.state.movies.sort(function(movieobja , movieobjb){\r\n            //ascending order  \r\n            return movieobjb.dailyRentalRate - movieobja.dailyRentalRate\r\n          })\r\n       }\r\n       this.setState({\r\n           movies : sortedmovies\r\n\r\n       })\r\n   }\r\n   sortbysstock =(e)=>{\r\n    let className = e.target.className;\r\n\r\n    let sortedmovies=[];\r\n    if(className =='fa fa-sort-asc'){\r\n     sortedmovies= this.state.movies.sort(function(movieobja , movieobjb){\r\n       //ascending order  \r\n       return movieobja.numberInStock - movieobjb.numberInStock\r\n     })\r\n    }else{\r\n     //descending order\r\n     sortedmovies= this.state.movies.sort(function(movieobja , movieobjb){\r\n         //ascending order  \r\n         return movieobjb.numberInStock - movieobja.numberInStock\r\n       })\r\n    }\r\n    this.setState({\r\n        movies : sortedmovies\r\n\r\n    })\r\n}\r\nhandlePagechange=(pagenumber)=>{\r\n    this.setState({currpage : pagenumber})\r\n}\r\nhandleGenreChange=(genre)=>{\r\n    this.setState({\r\n        cGenre:genre\r\n    })\r\n}\r\n    render() {\r\n        console.log('render');\r\n        let {movies,currSearchText , currpage , limit ,genres,cGenre} =this.state; //ES6 destructuring\r\n        let filteredArr = [];\r\n        if(currSearchText=='')\r\n        {\r\n            filteredArr = movies;\r\n        }\r\n        else\r\n        {\r\n            filteredArr = movies.filter(function(movieObj) {\r\n                let title = movieObj.title.toLowerCase();\r\n                console.log(title);\r\n                return title.includes(currSearchText.toLowerCase());\r\n            })\r\n        }\r\n        if(cGenre!='All Genres')\r\n        {\r\n            filteredArr = filteredArr.filter(function(movieObj){\r\n                return movieObj.genre.name==cGenre\r\n            })\r\n        }\r\n       let numberofpages = Math.ceil(filteredArr.length / limit);\r\n       let pagenumberarr = [];\r\n       for(let i =0 ; i <numberofpages;i++){\r\n        pagenumberarr.push(i+1);\r\n       }\r\n\r\n       let si = (currpage-1)*limit;\r\n       let ei = si+limit;\r\n       //slice array->subarray\r\n       filteredArr= filteredArr.slice(si , ei);\r\n\r\n        return (\r\n            //JSX\r\n            <>\r\n                {this.state.movies.length == 0 ? <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                </div> :\r\n                    <div className='container'>\r\n                        <div className='row'>\r\n                            <div className='col-3'>\r\n                                <ul className=\"list-group\">\r\n                                 {\r\n                                     genres.map((genreObj)=>(\r\n                                         <li onClick={()=>this.handleGenreChange(genreObj.name)} key={genreObj._id} className='list-group-item'>\r\n                                             {genreObj.name}\r\n                                         </li>\r\n                                     ))\r\n                                 }\r\n                                </ul>\r\n                                <h5>Current Genre : {cGenre}</h5>\r\n                            </div>\r\n                    <div className='col-9'>\r\n                        <input type='search' value={this.state.currSearchText} onChange={this.handleChange} ></input>\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">#</th>\r\n                                    <th scope=\"col\">Title</th>\r\n                                    <th scope=\"col\">Genre</th>\r\n                                    <th scope=\"col\">\r\n                                    <i onClick={this.sortbysstock}class=\"fa fa-sort-asc\" aria-hidden=\"true\"></i>\r\n                                        Stock\r\n                                        <i onClick={this.sortbysstock}class=\"fa fa-sort-desc\" aria-hidden=\"true\"></i>\r\n                                        </th>\r\n                                    <th scope=\"col\">\r\n                                    <i onClick={this.sortbyrating}class=\"fa fa-sort-asc\" aria-hidden=\"true\"></i>\r\n                                        Rate\r\n                                        <i onClick={this.sortbyrating}class=\"fa fa-sort-desc\" aria-hidden=\"true\"></i>\r\n                                        </th>\r\n                                    <th></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    filteredArr.map((movieObj) => {\r\n                                        return (\r\n                                            <tr key={movieObj._id} >\r\n                                                <td></td>\r\n                                                <td>{movieObj.title}</td>\r\n                                                <td>{movieObj.genre.name}</td>\r\n                                                <td>{movieObj.numberInStock}</td>\r\n                                                <td>{movieObj.dailyRentalRate}</td>\r\n                                                <td><button onClick={()=>{\r\n                                                    this.onDelete(movieObj._id)\r\n                                                }} type=\"button\" className=\"btn btn-danger\">Delete</button></td>\r\n                                            </tr>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                        <nav aria-label=\"...\">\r\n  <ul class=\"pagination\">\r\n    {\r\n        pagenumberarr.map((pagenumber)=>{\r\n            let classStyle = pagenumber==currpage?'page-item active':'page-item';\r\n            return(\r\n                <li onClick={()=>{\r\n                    this.handlePagechange(pagenumber)\r\n                }} className={classStyle}>\r\n                <span className=\"page-link\" >{pagenumber}</span>\r\n              </li>\r\n            )\r\n        })\r\n    }\r\n  </ul>\r\n</nav>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n         }\r\n         </>\r\n     )\r\n }\r\n}\r\n{/* <li className=\"page-item disabled\">\r\n      <a className=\"page-link\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Previous</a>\r\n    </li>\r\n    <li className=\"page-item\"><a className=\"page-link\" href=\"#\">1</a></li>\r\n    <li className=\"page-item active\" aria-current=\"page\">\r\n      <a className=\"page-link\" href=\"#\">2</a>\r\n    </li>\r\n    <li className=\"page-item\"><a className=\"page-link\" href=\"#\">3</a></li>\r\n    <li className=\"page-item\">\r\n      <a className=\"page-link\" href=\"#\">Next</a>\r\n    </li> */}","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\getMovies.js",[],{"ruleId":"36","replacedBy":"37"},{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","severity":1,"message":"41","line":2,"column":10,"nodeType":"42","messageId":"43","endLine":2,"endColumn":19},{"ruleId":"44","severity":1,"message":"45","line":37,"column":32,"nodeType":"46","messageId":"47","endLine":37,"endColumn":34},{"ruleId":"44","severity":1,"message":"48","line":48,"column":21,"nodeType":"46","messageId":"47","endLine":48,"endColumn":23},{"ruleId":"44","severity":1,"message":"48","line":69,"column":18,"nodeType":"46","messageId":"47","endLine":69,"endColumn":20},{"ruleId":"44","severity":1,"message":"48","line":98,"column":26,"nodeType":"46","messageId":"47","endLine":98,"endColumn":28},{"ruleId":"44","severity":1,"message":"45","line":110,"column":18,"nodeType":"46","messageId":"47","endLine":110,"endColumn":20},{"ruleId":"44","severity":1,"message":"48","line":113,"column":43,"nodeType":"46","messageId":"47","endLine":113,"endColumn":45},{"ruleId":"44","severity":1,"message":"48","line":130,"column":43,"nodeType":"46","messageId":"47","endLine":130,"endColumn":45},{"ruleId":"44","severity":1,"message":"48","line":191,"column":40,"nodeType":"46","messageId":"47","endLine":191,"endColumn":42},{"ruleId":"49","severity":1,"message":"50","line":211,"column":1,"nodeType":"51","messageId":"52","endLine":221,"endColumn":14},"no-native-reassign",["53"],"no-negated-in-lhs",["54"],"no-unused-vars","'getMovies' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","no-lone-blocks","Block is redundant.","BlockStatement","redundantBlock","no-global-assign","no-unsafe-negation"]