[{"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\index.js":"1","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\reportWebVitals.js":"2","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\App.js":"3","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\Movies.js":"4","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\getMovies.js":"5","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\About.js":"6","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\Home.js":"7","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\Nav.js":"8"},{"size":475,"mtime":1624623720370,"results":"9","hashOfConfig":"10"},{"size":375,"mtime":1624623720373,"results":"11","hashOfConfig":"10"},{"size":586,"mtime":1624694812179,"results":"12","hashOfConfig":"10"},{"size":8564,"mtime":1624689421586,"results":"13","hashOfConfig":"10"},{"size":1929,"mtime":1624623720368,"results":"14","hashOfConfig":"10"},{"size":207,"mtime":1624694847048,"results":"15","hashOfConfig":"10"},{"size":95,"mtime":1624691751106,"results":"16","hashOfConfig":"10"},{"size":506,"mtime":1624694876854,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"3rg5ya",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\index.js",[],["36","37"],"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\reportWebVitals.js",[],"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\App.js",[],"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\Movies.js",["38","39","40","41","42","43","44","45","46","47"],"import React, { Component } from \"react\";\r\nimport { getMovies } from \"./getMovies\";\r\nimport axios from \"axios\";\r\nexport default class Movies extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      movies: [],\r\n      currSearchText: \"\",\r\n      currpage: 1,\r\n      limit: 4,\r\n      genres: [{ _id: \"abcd\", name: \"All Genres\" }],\r\n      cGenre: \"All Genres\",\r\n    };\r\n  }\r\n  async componentDidMount() {\r\n    console.log(\"inside component did mount\");\r\n    let result = await axios.get(\r\n      \"https://backend-react-movie.herokuapp.com/movies\"\r\n    );\r\n    let genreRes = await axios.get(\r\n      \"https://backend-react-movie.herokuapp.com/genres\"\r\n    );\r\n    // console.log(res.data.movies);\r\n    console.log(genreRes.data.genres);\r\n    console.log(result.data.movies);\r\n    this.setState({\r\n      movies: result.data.movies,\r\n      genres: [...this.state.genres, ...genreRes.data.genres],\r\n    });\r\n  }\r\n  handleChange = (e) => {\r\n    let val = e.target.value;\r\n    console.log(val);\r\n    this.setState({\r\n      currSearchText: val,\r\n    });\r\n  };\r\n  onDelete = (id) => {\r\n    let arr = this.state.movies.filter(function (movieObj) {\r\n      return movieObj._id != id;\r\n    });\r\n    // console.log(arr);\r\n    this.setState({\r\n      movies: arr,\r\n    });\r\n  };\r\n  sortbyrating = (e) => {\r\n    let className = e.target.className;\r\n\r\n    let sortedmovies = [];\r\n    if (className == \"fa fa-sort-asc\") {\r\n      sortedmovies = this.state.movies.sort(function (movieobja, movieobjb) {\r\n        //ascending order\r\n        return movieobja.dailyRentalRate - movieobjb.dailyRentalRate;\r\n      });\r\n    } else {\r\n      //descending order\r\n      sortedmovies = this.state.movies.sort(function (movieobja, movieobjb) {\r\n        //ascending order\r\n        return movieobjb.dailyRentalRate - movieobja.dailyRentalRate;\r\n      });\r\n    }\r\n    this.setState({\r\n      movies: sortedmovies,\r\n    });\r\n  };\r\n  sortbysstock = (e) => {\r\n    let className = e.target.className;\r\n\r\n    let sortedmovies = [];\r\n    if (className == \"fa fa-sort-asc\") {\r\n      sortedmovies = this.state.movies.sort(function (movieobja, movieobjb) {\r\n        //ascending order\r\n        return movieobja.numberInStock - movieobjb.numberInStock;\r\n      });\r\n    } else {\r\n      //descending order\r\n      sortedmovies = this.state.movies.sort(function (movieobja, movieobjb) {\r\n        //ascending order\r\n        return movieobjb.numberInStock - movieobja.numberInStock;\r\n      });\r\n    }\r\n    this.setState({\r\n      movies: sortedmovies,\r\n    });\r\n  };\r\n  handlePagechange = (pagenumber) => {\r\n    this.setState({ currpage: pagenumber });\r\n  };\r\n  handleGenreChange = (genre) => {\r\n    this.setState({\r\n      cGenre: genre,\r\n    });\r\n  };\r\n  render() {\r\n    console.log(\"render\");\r\n    let { movies, currSearchText, currpage, limit, genres, cGenre } =\r\n      this.state; //ES6 destructuring\r\n    let filteredArr = [];\r\n    if (currSearchText == \"\") {\r\n      filteredArr = movies;\r\n    } else {\r\n      filteredArr = movies.filter(function (movieObj) {\r\n        let title = movieObj.title.toLowerCase();\r\n        console.log(title);\r\n        return title.includes(currSearchText.toLowerCase());\r\n      });\r\n    }\r\n    if (cGenre != \"All Genres\") {\r\n      filteredArr = filteredArr.filter(function (movieObj) {\r\n        return movieObj.genre.name == cGenre;\r\n      });\r\n    }\r\n    let numberofpages = Math.ceil(filteredArr.length / limit);\r\n    let pagenumberarr = [];\r\n    for (let i = 0; i < numberofpages; i++) {\r\n      pagenumberarr.push(i + 1);\r\n    }\r\n\r\n    let si = (currpage - 1) * limit;\r\n    let ei = si + limit;\r\n    //slice array->subarray\r\n    filteredArr = filteredArr.slice(si, ei);\r\n\r\n    return (\r\n      //JSX\r\n      <>\r\n        {this.state.movies.length == 0 ? (\r\n          <div className=\"spinner-border text-primary\" role=\"status\">\r\n            <span class=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n        ) : (\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-3\">\r\n                <ul className=\"list-group\">\r\n                  {genres.map((genreObj) => (\r\n                    <li\r\n                      onClick={() => this.handleGenreChange(genreObj.name)}\r\n                      key={genreObj._id}\r\n                      className=\"list-group-item\"\r\n                    >\r\n                      {genreObj.name}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n                <h5>Current Genre : {cGenre}</h5>\r\n              </div>\r\n              <div className=\"col-9\">\r\n                <input\r\n                  type=\"search\"\r\n                  value={this.state.currSearchText}\r\n                  onChange={this.handleChange}\r\n                ></input>\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">#</th>\r\n                      <th scope=\"col\">Title</th>\r\n                      <th scope=\"col\">Genre</th>\r\n                      <th scope=\"col\">\r\n                        <i\r\n                          onClick={this.sortbysstock}\r\n                          class=\"fa fa-sort-asc\"\r\n                          aria-hidden=\"true\"\r\n                        ></i>\r\n                        Stock\r\n                        <i\r\n                          onClick={this.sortbysstock}\r\n                          class=\"fa fa-sort-desc\"\r\n                          aria-hidden=\"true\"\r\n                        ></i>\r\n                      </th>\r\n                      <th scope=\"col\">\r\n                        <i\r\n                          onClick={this.sortbyrating}\r\n                          class=\"fa fa-sort-asc\"\r\n                          aria-hidden=\"true\"\r\n                        ></i>\r\n                        Rate\r\n                        <i\r\n                          onClick={this.sortbyrating}\r\n                          class=\"fa fa-sort-desc\"\r\n                          aria-hidden=\"true\"\r\n                        ></i>\r\n                      </th>\r\n                      <th></th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {filteredArr.map((movieObj) => {\r\n                      return (\r\n                        <tr key={movieObj._id}>\r\n                          <td></td>\r\n                          <td>{movieObj.title}</td>\r\n                          <td>{movieObj.genre.name}</td>\r\n                          <td>{movieObj.numberInStock}</td>\r\n                          <td>{movieObj.dailyRentalRate}</td>\r\n                          <td>\r\n                            <button\r\n                              onClick={() => {\r\n                                this.onDelete(movieObj._id);\r\n                              }}\r\n                              type=\"button\"\r\n                              className=\"btn btn-danger\"\r\n                            >\r\n                              Delete\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n                <nav aria-label=\"...\">\r\n                  <ul class=\"pagination\">\r\n                    {pagenumberarr.map((pagenumber) => {\r\n                      let classStyle =\r\n                        pagenumber == currpage\r\n                          ? \"page-item active\"\r\n                          : \"page-item\";\r\n                      return (\r\n                        <li\r\n                          onClick={() => {\r\n                            this.handlePagechange(pagenumber);\r\n                          }}\r\n                          className={classStyle}\r\n                        >\r\n                          <span className=\"page-link\">{pagenumber}</span>\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </nav>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n{\r\n  /* <li className=\"page-item disabled\">\r\n      <a className=\"page-link\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Previous</a>\r\n    </li>\r\n    <li className=\"page-item\"><a className=\"page-link\" href=\"#\">1</a></li>\r\n    <li className=\"page-item active\" aria-current=\"page\">\r\n      <a className=\"page-link\" href=\"#\">2</a>\r\n    </li>\r\n    <li className=\"page-item\"><a className=\"page-link\" href=\"#\">3</a></li>\r\n    <li className=\"page-item\">\r\n      <a className=\"page-link\" href=\"#\">Next</a>\r\n    </li> */\r\n}\r\n","C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\getMovies.js",[],"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\About.js",[],"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\Home.js",[],"C:\\Users\\lenovo\\Desktop\\my-work\\MMUB\\React\\movies\\src\\Components\\Nav.js",[],{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":2,"column":10,"nodeType":"54","messageId":"55","endLine":2,"endColumn":19},{"ruleId":"56","severity":1,"message":"57","line":41,"column":27,"nodeType":"58","messageId":"59","endLine":41,"endColumn":29},{"ruleId":"56","severity":1,"message":"60","line":52,"column":19,"nodeType":"58","messageId":"59","endLine":52,"endColumn":21},{"ruleId":"56","severity":1,"message":"60","line":72,"column":19,"nodeType":"58","messageId":"59","endLine":72,"endColumn":21},{"ruleId":"56","severity":1,"message":"60","line":101,"column":24,"nodeType":"58","messageId":"59","endLine":101,"endColumn":26},{"ruleId":"56","severity":1,"message":"57","line":110,"column":16,"nodeType":"58","messageId":"59","endLine":110,"endColumn":18},{"ruleId":"56","severity":1,"message":"60","line":112,"column":36,"nodeType":"58","messageId":"59","endLine":112,"endColumn":38},{"ruleId":"56","severity":1,"message":"60","line":129,"column":35,"nodeType":"58","messageId":"59","endLine":129,"endColumn":37},{"ruleId":"56","severity":1,"message":"60","line":220,"column":36,"nodeType":"58","messageId":"59","endLine":220,"endColumn":38},{"ruleId":"61","severity":1,"message":"62","line":244,"column":1,"nodeType":"63","messageId":"64","endLine":256,"endColumn":2},"no-native-reassign",["65"],"no-negated-in-lhs",["66"],"no-unused-vars","'getMovies' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","no-lone-blocks","Block is redundant.","BlockStatement","redundantBlock","no-global-assign","no-unsafe-negation"]